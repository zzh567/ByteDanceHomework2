课程2作业：实现一个登录页面以及用户信息页面，数据库使用本地的SQLite

### 1.创建工程

老师讲解时使用的是纯java+xml的工程模式，因此从Empty Views Activity开始创建工程。（Empty Activity默认使用Kotlin+compose模式，另外Groovy DSL指的是Gradle构建脚本使用的语言，Groovy是旧版默认，Kotlin DSL代表用Kotlin语法写Gradle配置）

![image-20251201205127539](.\pic\image-20251201205127539.png)

### 2.创建数据库工具类

跟着教程里老师的步骤从SQLiteOpenHelper继承一个用户信息的类，变量顺序为：数据库名、数据库版本、表名、列名。随后写好SQL建表语句。接着在构造函数里通过super调用父类构造函数，传递context环境句柄使数据库能访问安卓的文件目录，传入库名和版本。最后在onCreate重载里执行建表命令，在onUpgrade重载里重新建表。

![image-20251202175642421](.\pic\image-20251202175642421.png)

### 3. 写登录xml文件。

**注意：**activity页面对应的xml文件应存放在/res/layout目录下。/res/xml目录下存放的文件是用于放自定义的配置信息（非布局类 XML），例如偏好设置或网络安全配置，而不是用来放 UI 界面布局的 。

登录页的要求可以使用垂直线性布局来实现。写好vertical垂直布局、选用白色背景、上下左右填充间隔30dp

![image-20251202181403428](.\pic\image-20251202181403428.png)

使用wrap_content使文字的布局只占用文字大小的部分，使用marginTop和marginBottom创造合适的上下间隔保持美观。欢迎登录使用textStyle=“bold”进行加粗。

![image-20251202182120841](.\pic\image-20251202182120841.png)

由于之后需要用到输入框中的信息，预留好id。

若背景简单使用颜色填充则无法做到圆角矩形美化。因此选用新写xml文件作为背景。

![image-20251202214332806](.\pic\image-20251202214332806.png)

![image-20251202214649464](.\pic\image-20251202214649464.png)

![image-20251202214812348](.\pic\image-20251202214812348.png)

![image-20251202214825266](.\pic\image-20251202214825266.png)

按照同样流程写登录按钮的背景xml文件。完成后发现安卓工程默认会为应用的按钮加上一个主题滤镜，因此增加代码

```app:backgroundTint="@null"```

和在线性布局的属性下增加

```
xmlns:app="http://schemas.android.com/apk/res-auto"
```

就可以使按钮按照我们写好的颜色背景显示出来。

![image-20251203143033951](.\pic\image-20251203143033951.png)

使用横向线性布局写好两个登录按钮，使用app：属性来插入图标

![image-20251203163854235](.\pic\image-20251203163854235.png)

写完最后一行文字显示后，至此完成登录页面的xml文件编写。

### 4. 写用户页面xml文件

操作与第三步基本一致，也是使用线性布局来进行排版

首先分垂直布局区分上面用户头像名称签名部分和下面的点击部分。

头像和名称签名又用水平布局来分开。头像使用CardView组件通过设置圆角的长设置成圆形。

下面每行可交互效果通过以下两行的属性实现

```
android:clickable="true"
android:background="?attr/selectableItemBackground"
```

![image-20251203191938296](.\pic\image-20251203191938296.png)

### 5.在MainActivity中写登录页面逻辑

为登录按钮写监听逻辑，读取账号密码并根据其中内容做判断。

![image-20251204102917049](.\pic\image-20251204102917049.png)

第三方按钮简单实现弹窗

![image-20251204102935051](.\pic\image-20251204102935051.png)

此处为检查用户密码的逻辑以及判断用户是否新登录，是则设置默认签名，否则延用之前SP中数据。![image-20251204103019093](.\pic\image-20251204103019093.png)

### 6.写用户页显示逻辑

首先显示SP中的个人信息，为个性签名绑定编辑弹窗使用户可进行修改。

下方各功能简单绑定弹窗，写了两个不继续重复了。

![image-20251204103226664](.\pic\image-20251204103226664.png)

用户可在修改签名的弹窗内编辑，保存后将数据存入SP

![image-20251204103423001](.\pic\image-20251204103423001.png)
